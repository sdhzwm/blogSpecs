---
title: 要懂一点的贝叶斯公式
date: 2020-03-02 22:15:22
categories: [思考,读书笔记,总结]
tags: [心智程序,理性,笔记]
---

小时候看侦探小说的时候，只看到侦探抽丝剥茧般找到事情的真相。福尔摩斯说自己用的是归纳法，也就是从案件的结果开始追溯事情的缘由。

破案是从结果开始追溯，我们生活中的很多也往往如此。例如你想在淘宝上买一件衣服，看到好评率是99%,你可能会觉得好评很高，可以去买。当你再去看那1%的差评时，有图有'真相'的指出衣服质量很差，甚至和原图不符，这时你可能又会有新的问号了。

那么到底是信好评率还是信差评呢？解决这个问题的就是今天这一讲的主角，托马斯·贝叶斯。

<!-- more -->

![贝叶斯](https://imagerepos.oss-cn-beijing.aliyuncs.com/images/20200224103136.png)

贝叶斯说，你对某个假设的相信程度，应该用一个概率来表示：`P(假设)`. P = 1 就是绝对相信，P = 0 就是绝对不信，P = 15% 就是有一点信。

只有假设还不够，还需要证据的支持。有了新的证据后，我们就要更新概率：`P(假设|证据)`。

`P(假设|证据)`，叫做条件概率，转换一下可以写为`P(A|B)`。可以理解为，B 事件在真的情况下，A事件的概率。比如说A表示下雨B表示带伞。如果说这个地方天天下雨，那么 P(A) = 1，不经常下雨就为P(A) = 0.1。你在上班的路上，发现大多数人都带了伞，那么你在推测今天下雨概率的时候就要加上大多数人带伞这个条件：`P(A|B)`。

## 假设与证据

有了`P(假设|证据)`来计算概率，一直程度能够帮助我们提高决策质量。可是在面临稍微复杂决策的时候，我们都会倾向于对我们更有利或者更省力的方式去提出假设。例如说淘宝店的衣服有 97% 的好评率，这代表是的衣服质量好，好评率高。但是这里忽略了衣服质量不好，好评率又会是多少？毕竟好评率的影响因素有很多：习惯好评、刷单等等都会影响到好评率。

而这个方式也被叫做：忽略备择假设。它是指当需要预估某一条件下某事件发生的概率时，只检测该条件下事件发生的概率，忽略了同一条件下该事件不发生的概率和条件不满足时该事件发生的概率。

同样我们对比淘宝两家店的的好坏都可以设置一个初始概率: 0.5 ，这个时候我们看到两家都是97%好评率的店铺，却发现店铺 A 的 97% 好评率，却只有 100 个订单；而店铺 B 的 97% 的好评率有 10000 个订单。这个时候如果是你，你会怎么选择两家店铺？

这种方式也叫做：忽略基础概率。它是指当需要预估某一条件下某事件发生的概率时，只看到在这个条件发生下的事情，而忽略了在考虑条件之前该事件发生的基础概率。

## 贝叶斯公式

所以说为了计算 `P(A|B)` ,我们要思考的是A和B发生的概率有多大？

这个时候我们可以按照以下两个步骤去计算：

**B的概率:**

- 先算出 B 发生的概率有多大，即：`P(B)`
- 再算出 B 发生的情况下， A 也发生的概率有多大。即：`P(A|B)`
- 再计算 A 与 B 都发生的概率，即 `P(A|B)×P(B)`

**A的概率:**

- 先算出 A 发生的概率有多大，即：`P(A)`
- 再算出 A 发生的情况下， B 也发生的概率有多大。即：`P(B|A)`
- 再计算 A 与 B 都发生的概率，即 `P(B|A)×P(A)`

这两个算法的结果一定相等，我们也就得到了`P(A|B)×P(B) = P(B|A)×P(A)`。即：

![贝叶斯公式](https://imagerepos.oss-cn-beijing.aliyuncs.com/images/20200224102121.png)

先到这里，后面有时间继续添加...
